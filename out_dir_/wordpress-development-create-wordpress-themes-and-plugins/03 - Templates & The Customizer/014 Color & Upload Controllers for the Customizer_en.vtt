WEBVTT

00:07.700 --> 00:13.250
Right now, I'm looking at the list of classes we can use for the controller, we've gone over how to

00:13.250 --> 00:15.110
create a regular input field.

00:15.410 --> 00:19.360
Now I want to show you how to use the color picker and upload controllers.

00:19.580 --> 00:20.930
Here's what we're going to do.

00:21.500 --> 00:27.440
I want to allow users to be able to change the color of these, read more links inside each post excerpt.

00:27.800 --> 00:32.160
Then I want to allow them to upload a PDF report so their visitors can download it.

00:32.720 --> 00:33.590
Let's get started.

00:33.740 --> 00:36.320
Open the miscellaneous customizer function.

00:36.590 --> 00:39.890
I've minimized a lot of the code in here, so it's easier to read.

00:40.160 --> 00:43.040
As usual, the first step is create the settings.

00:43.280 --> 00:45.290
The first setting will be called Jiyu.

00:45.290 --> 00:49.790
Read more color with the default value of hash one a, b, c nine.

00:49.800 --> 00:53.000
See this as the default color value for the links.

00:59.840 --> 01:04.820
The next sitting will be Jiyu or file with a default value of an empty string.

01:09.730 --> 01:15.670
The next step is to create a section, however, I plan on assigning the controllers under the Mesi

01:15.670 --> 01:21.820
section so we can skip on to step three will start with the color controller at the very bottom called

01:21.820 --> 01:23.290
the add control method.

01:25.590 --> 01:30.780
Let's go back to the list of controller classes and view the color controller, as you can see, it's

01:30.780 --> 01:32.500
not really complex to use at all.

01:32.820 --> 01:38.550
I'm going to copy the code inside this controller and paste it into the add control method like so.

01:40.780 --> 01:47.220
Let's go through this one by one, these parameters are exactly the same as the regular customizer controller.

01:47.710 --> 01:52.210
The first parameter for this class is the WP customize object itself.

01:52.630 --> 01:54.750
The second parameter is the ID.

01:55.180 --> 01:57.070
I'm going to set this to J.

01:57.070 --> 01:59.050
You read more color input.

02:01.330 --> 02:05.860
The label will be read more link color, which will also be translatable.

02:08.000 --> 02:13.040
Then I'm going to set the section and settings key to their corresponding values.

02:18.390 --> 02:22.690
Nothing really new so far, WordPress takes care of the rest, setting up the color picker.

02:22.950 --> 02:25.710
I'm going to call the ad control method again.

02:30.270 --> 02:36.350
This time, we're going to set up use the upload control class, go back to the list of classes, and

02:36.360 --> 02:39.090
this time let's check out the upload control class.

02:39.480 --> 02:43.140
Just like the color picker, the upload controller is also very simple.

02:43.440 --> 02:46.350
I'm going to copy this code and paste it into our method.

02:48.550 --> 02:54.490
The code is exactly the same as last time the WordPress team does a great job of making their customizer

02:54.490 --> 02:55.610
classes consistent.

02:55.900 --> 02:59.740
I'm going to set the ID to Jiyu report file input.

03:02.070 --> 03:05.100
The label key will be set to file a report.

03:07.690 --> 03:12.340
Then I'm going to set the section and settings key to their corresponding values.

03:18.320 --> 03:23.900
Just like that, we now have the settings and controllers all set up, the next step is to have these

03:23.900 --> 03:25.800
values reflected onto the theme.

03:26.180 --> 03:30.600
Let's start with the read more color open the NQ function for the front end.

03:30.890 --> 03:34.460
I'm going to add my code right after where we NQ the files.

03:35.120 --> 03:37.070
The color we have will be dynamic.

03:37.330 --> 03:41.920
Dynamic success is kind of hard to pull off because of the solutions that are available.

03:42.290 --> 03:44.380
There are two ways we can go about this.

03:44.660 --> 03:50.930
The first solution would be to create a file that will output the dynamic success and change the headers.

03:51.320 --> 03:54.290
The second solution would be to use inline styles.

03:54.830 --> 03:59.210
Both of these solutions are completely valid and I've seen developers use one or the other.

03:59.450 --> 04:00.760
It is really up to you.

04:01.010 --> 04:05.660
This is a really simple cyesis change, so I'm going to use inline styles.

04:05.900 --> 04:08.060
It's quicker and easier to understand.

04:08.600 --> 04:12.140
I'm going to call the function WP add inline style.

04:14.390 --> 04:20.040
As the name suggests, this will load inline styles inside the head tag of the document.

04:20.480 --> 04:25.610
The great thing about this function is that it will only load the inline styles if a particular file

04:25.610 --> 04:26.300
is in cued.

04:26.960 --> 04:29.140
You can specify that as the first parameter.

04:29.450 --> 04:34.090
I only want to load these inline styles if the Jiyu custom file is loaded.

04:34.430 --> 04:37.160
The second parameter is the CSF itself.

04:37.370 --> 04:38.930
You input this as a string.

04:39.140 --> 04:41.570
I'm going to paste in some simple S.O.S.

04:42.940 --> 04:44.950
There's nothing really complex going on here.

04:45.280 --> 04:51.010
All I'm doing is changing the color of the link and it's border using the dynamic color setting just

04:51.010 --> 04:53.330
like that, the read more link will be dynamic.

04:53.590 --> 04:58.750
The last thing to do is to display the link to the downloadable report opened the footer file.

04:58.990 --> 05:02.050
I'm going to add this code right after the copyright text.

05:02.590 --> 05:04.330
Inside a conditional statement.

05:04.420 --> 05:08.320
I'm going to check if the Mod Jiyu report file has a value.

05:13.670 --> 05:20.270
The upload controller will set the value to the full http url to the file itself, it will take care

05:20.270 --> 05:22.580
of uploading and processing the file for you.

05:23.270 --> 05:28.910
With that said, if there is a file, then I want to output a simple Ancora link with the text download

05:28.910 --> 05:29.350
report.

05:29.720 --> 05:32.480
Make sure to add a brake tag afterwards.

05:39.410 --> 05:45.130
That basically wraps it up, let's refresh the customizer and check if everything works by default,

05:45.140 --> 05:49.900
the links should still be this green blue color and the download link in the footer should not appear.

05:50.570 --> 05:54.650
Change the color to any color you want and then upload a file for the report.

05:55.040 --> 05:58.760
In the resource section of this lecture, I provide a link to this report.

05:59.150 --> 06:01.010
Feel free to download it and use it.

06:01.280 --> 06:04.630
After making your changes, you should see everything work properly.

06:09.920 --> 06:14.960
That's it for the customizer, it's a lot of code to write, but the process is very straightforward.

06:15.230 --> 06:18.590
I highly encourage you to play with it more to get better at using it.
