WEBVTT

00:07.300 --> 00:12.880
In the previous lecture, we learned how to make a template for the single member page, it's incomplete,

00:12.970 --> 00:14.710
but we'll get it fixed in this lecture.

00:15.070 --> 00:16.450
Here comes the real challenge.

00:16.720 --> 00:20.350
We will have to read the code to figure out where to apply these changes.

00:20.800 --> 00:22.180
Let me show you what I mean.

00:22.420 --> 00:28.300
In the resource section of this lecture, I provide a link to the theme compatibility and template files

00:28.300 --> 00:28.780
page.

00:29.200 --> 00:33.890
This page pretty much goes over what we learned in the last section, so we'll skip over some of it.

00:34.660 --> 00:40.120
What I want you to focus on is this section called overloading template compatibility theme files.

00:40.510 --> 00:46.120
If you take a look, buddy, press documents that there are files that load template parts in this directory,

00:46.120 --> 00:50.890
BP dash templates, BP dash legacy slash buddy press.

00:51.580 --> 00:53.780
However, we won't be using this template.

00:54.160 --> 00:56.180
The reason being is that it's an old template.

00:56.470 --> 00:57.670
Let me show you what I mean.

00:57.940 --> 01:04.090
Inside the plugins folder, open the buddy press plug and navigate to the BP templates directory.

01:06.480 --> 01:13.860
Upon coming to this directory, you'll find two folders called BP Legacy and BP nouveaux the BP Nuvo

01:13.860 --> 01:16.260
template is what Buddy Press will use by default.

01:16.590 --> 01:20.580
It's a template that comes with the latest standards of HTML access.

01:20.970 --> 01:26.280
The BP legacy template is for sites that are still using the old template, but would like to use the

01:26.280 --> 01:29.160
latest features of Buddy Press, the HTML.

01:29.160 --> 01:32.340
NCIS is not up to par with today's standards.

01:32.860 --> 01:37.010
Unfortunately, the new template is not very well documented on the site.

01:37.260 --> 01:39.900
A lot of the code still refers to the old template.

01:40.350 --> 01:44.820
This means that you'll have to study the code yourself to figure out things yourself.

01:45.090 --> 01:47.430
I'll try my best to guide you in this course.

01:47.700 --> 01:52.560
For this course we'll be using Nuvo since it contains code for the latest standards.

01:53.160 --> 01:58.590
This directory is where Buddy Press stores its own template and HTML files for loading certain sections

01:58.590 --> 01:59.430
of Buddy Press.

01:59.830 --> 02:01.240
So what do I mean by that?

02:01.680 --> 02:04.710
Well, let's explore how Buddy Press loads a page again.

02:05.430 --> 02:10.740
When a user visits a page generated by Buddy Press, the first thing Buddy Press will do is search for

02:10.740 --> 02:12.600
that page specific template file.

02:13.020 --> 02:15.330
Let's say the page was this member page.

02:15.570 --> 02:19.350
It will then use the template hierarchy system to search for that template.

02:19.710 --> 02:25.470
If it doesn't exist, it'll just use the base template, which would be the buddy press file.

02:26.100 --> 02:31.380
After it finds the main template, Buddy Press will then proceed to load the various sections and pieces

02:31.380 --> 02:32.640
that make up that page.

02:32.970 --> 02:38.790
If we take a look at the single member page, all this content is just various files loaded on to one

02:38.790 --> 02:39.350
page.

02:39.720 --> 02:41.940
This cover image is its own template.

02:42.210 --> 02:45.990
The menu is its own template, and then this form is also its own template.

02:46.260 --> 02:48.210
It's not all stuffed into one file.

02:48.930 --> 02:53.940
Buddy Press will first search in the current activated theme for these files and parts.

02:54.240 --> 02:59.600
For example, if it wanted to load the cover image, it'll search the theme folder for that part.

03:00.090 --> 03:05.010
Currently, the only template we have is the index template for the single member page.

03:05.400 --> 03:09.120
Therefore, Buddy Press will not find that template part in our theme.

03:09.570 --> 03:13.320
Next, Buddy Press will search for the template inside its own folder.

03:14.010 --> 03:20.100
As you can already guess, Buddy Press will search for those files inside the beep templates slash BP

03:20.100 --> 03:24.720
nouveau slash buddy press directory to make things simpler and faster.

03:24.720 --> 03:29.550
We could copy the buddy press directory into the themes root directory like so.

03:34.010 --> 03:39.530
However, you don't want to do this, a lot of developers fall into this trap of just grabbing each

03:39.530 --> 03:44.540
template and putting it inside their theme, but that comes with the price of being too difficult to

03:44.540 --> 03:45.530
debug and handle.

03:45.920 --> 03:49.970
My suggestion is to only include the files you plan on overwriting.

03:50.330 --> 03:55.720
Otherwise you're just overdoing it and making it harder on yourself to have to manage so many templates.

03:56.060 --> 04:01.310
So I'm going to undo this action which should be left with the original templates we use, which is

04:01.310 --> 04:02.870
just the index template.

04:03.590 --> 04:07.590
Now that you know how Buddy Press loads its template, we can begin customizing it.

04:07.940 --> 04:09.770
Here's where the problem arises.

04:10.040 --> 04:12.950
How do we know which file is loaded for which page?

04:13.280 --> 04:15.830
Buddy Press doesn't give you much information on that.

04:15.830 --> 04:21.230
Inside their documentation, they only tell you the bare minimum and then leave the rest to you to figure

04:21.230 --> 04:21.510
out.

04:21.890 --> 04:24.200
This is a criticism I have of buddy press.

04:24.470 --> 04:27.200
WordPress is greatly documented and well written.

04:27.410 --> 04:29.750
It even goes over some complex topics.

04:30.320 --> 04:33.680
However, the Buddy Press plugin only covers the basics.

04:33.920 --> 04:39.380
There aren't a lot of examples of usages that you can use, so you're left to figure it out on your

04:39.380 --> 04:39.700
own.

04:40.040 --> 04:44.160
You have to open up the files and read the code to figure out what goes where.

04:44.900 --> 04:47.770
Luckily, not everything is as hard as it seems.

04:48.020 --> 04:52.190
If you take a look, you'll notice that Buddy Press organizes everything pretty well.

04:52.580 --> 04:57.830
For example, all files in the activity folder relates to the activity page.

04:58.160 --> 05:03.500
With that logic in mind, we can assume that the template parts related to the single member page is

05:03.500 --> 05:06.550
located inside the member's single directory.

05:06.980 --> 05:08.680
That narrows it down quite a bit.

05:09.380 --> 05:12.530
Let's study the HTML generated by WordPress.

05:12.770 --> 05:18.170
I want you to inspect the element and try to find the div tag with the ID buddy press.

05:20.740 --> 05:26.200
Every single bloody press page will generate this tag, you can always expect Buddy Press to insert

05:26.200 --> 05:28.250
its content in between these tags.

05:28.450 --> 05:32.950
It's also a great way to apply success stylings to buddy press content only.

05:33.730 --> 05:36.250
All right, let's take a deeper look at this.

05:36.250 --> 05:43.600
Page is made up of two main tags, which are the item header and BP wrap elements inside the item header

05:43.600 --> 05:44.070
element.

05:44.080 --> 05:47.940
You'll find a div tag with the idea of cover image container.

05:48.370 --> 05:53.500
What I'm doing right now is studying the HTML so that I can have a better idea of what to look for when

05:53.500 --> 05:54.940
I'm searching through the templates.

05:55.510 --> 05:59.850
The BP wrap element contains the rest of the content which we want centered.

06:00.250 --> 06:05.170
Therefore, it would make sense to apply our classes that can your content to this tag.

06:05.800 --> 06:10.480
I've already studied a lot of this HTML, so I have a good idea of what to look for.

06:10.810 --> 06:14.250
Feel free to pause the video and study the HTML some more.

06:14.950 --> 06:20.530
After studying the HTML, I will then look through the template files until I find something that matches

06:20.530 --> 06:22.870
the HTML outputted by Buddy Press.

06:23.230 --> 06:25.090
I've already looked through these files.

06:25.330 --> 06:32.820
I was able to find that the home file inside the member's single directory encompasses all this content.

06:33.280 --> 06:34.540
Open this file now.

06:37.160 --> 06:39.950
As you can see, this is the file we're looking for.

06:40.160 --> 06:47.240
It has the div tags with the classes, item header and BP rep, the next step is to copy this file into

06:47.240 --> 06:49.220
the respective directory in our theme.

06:57.010 --> 07:03.520
Inside are a copy of the file, I'm going to apply the class container to the div tag with the class

07:03.520 --> 07:04.580
of BP wrap.

07:05.020 --> 07:09.330
This is a bootstrap class that was part of my template already before I started this theme.

07:09.730 --> 07:11.710
It'll take care of censoring the content.

07:14.550 --> 07:18.790
Let's refresh the page and you should now see the navigation and body being centered.

07:19.200 --> 07:22.930
The only thing we need to center is the avatar and the header information.

07:23.280 --> 07:24.420
Here's the problem, though.

07:24.690 --> 07:30.390
If you take a look at the item header tag, you'll find that this tag also has the cover image inside.

07:30.780 --> 07:35.980
If we were to center, this tag will also be centering the cover image, which isn't what we want.

07:36.630 --> 07:42.060
So the next thing to do is to look for the template that contains all this HTML and center.

07:42.060 --> 07:48.180
What we want to center, unlike last time, we don't have to study the HTML and look through files to

07:48.180 --> 07:50.850
find the file that contains the HTML for this.

07:51.360 --> 07:58.400
Going back to the Buddy Press home file we copied over inside the div tag with the class of item header.

07:58.650 --> 08:00.270
There's this function being called.

08:00.540 --> 08:03.750
It's called BP Nuvo member header template part.

08:05.420 --> 08:10.290
I'm going to copy this function and then switch over to the search feature of Visual Studio Code.

08:10.760 --> 08:14.710
I'm going to pace in the function along with the function keyword before it.

08:15.230 --> 08:17.100
I'll leave the rest of the fields empty.

08:17.510 --> 08:20.900
What we're going to do is search for where this function was defined.

08:21.350 --> 08:25.910
In order for us to understand what a function does, we'll have to examine the code itself.

08:26.330 --> 08:29.170
This may take a while for some of you, so just be patient.

08:29.750 --> 08:32.000
We should receive one result here.

08:32.000 --> 08:35.360
We have the function being defined by Buddy Press right above.

08:35.360 --> 08:38.050
It is a comment telling us what this function does.

08:38.420 --> 08:43.760
It says the following use the appropriate member header and enjoy its template hierarchy.

08:44.450 --> 08:46.010
That doesn't tell us a whole lot.

08:46.250 --> 08:50.930
Basically what it does is choose an appropriate header template and buddy press.

08:50.960 --> 08:53.600
You have the option of disabling cover images.

08:53.900 --> 08:56.330
You can find that option on the settings page.

08:56.630 --> 09:00.260
This function will check if that option is enabled or disabled.

09:00.920 --> 09:04.730
By default, the template variable will be set to member header.

09:05.030 --> 09:11.360
The value member header refers to the cover image feature being disabled right after this is a conditional

09:11.360 --> 09:11.810
statement.

09:12.170 --> 09:17.120
The function BP displayed user use cover image header is being called.

09:17.540 --> 09:21.950
This function will take care of querying the database to check for the cover image setting.

09:22.430 --> 09:26.180
If this returns true, then the cover image feature is enabled.

09:26.870 --> 09:31.370
As a result, the template variable will be changed to cover image header.

09:31.850 --> 09:37.430
Once the variable is set, Buddy Press will begin loading the template after the conditional statement

09:37.430 --> 09:41.900
for things are happening to do action functions are being called.

09:42.260 --> 09:46.280
This is for other developers to add in content before or after the header.

09:46.670 --> 09:48.530
We won't be using either of these.

09:48.650 --> 09:50.150
We can safely ignore them.

09:50.450 --> 09:55.490
In between these two functions is the function BP nouveaux member get template part.

09:56.240 --> 10:01.760
This function will grab a template part based on the value passed in you may be thinking doesn't work.

10:01.760 --> 10:04.760
Press already have a get template part function.

10:04.970 --> 10:06.200
Yes it does.

10:06.770 --> 10:11.570
This function is a buddy press function that wraps the word press function get template part.

10:12.050 --> 10:16.850
The difference between these two functions is that the buddy press function will only look for the template

10:16.850 --> 10:18.800
inside the body press plugin folder.

10:19.310 --> 10:23.930
By looking at this code, we can determine that the files containing the header code can be found in

10:23.930 --> 10:24.740
two files.

10:25.100 --> 10:28.760
Those are the cover image header and member header files.

10:29.420 --> 10:34.760
If we were to look inside the BP nouveaux template, you'll eventually come across the two files that

10:34.760 --> 10:37.250
could be loaded which match the variable values.

10:39.890 --> 10:44.660
Now that we know the files, let's just copy and paste them into the respective directories from the

10:44.660 --> 10:45.740
plug into our theme.

10:48.160 --> 10:54.960
So why are you files, well, Buddy Press allows the admin to enable and disable the cover image feature

10:55.300 --> 10:58.600
as a result, there are two templates for both scenarios.

10:58.750 --> 11:00.020
We will account for both.

11:00.730 --> 11:03.200
Let's start with the cover image header file.

11:03.520 --> 11:07.110
This is the template that's used when the cover image feature is enabled.

11:07.450 --> 11:12.070
When I was studying this file, I was looking for the tag that contains the image itself.

11:12.460 --> 11:19.140
I was able to find that this div tag with the idea of header cover image contains the cover image itself.

11:19.900 --> 11:23.590
I want to apply Sintering to all the content except for this tag.

11:24.010 --> 11:30.540
The tag that contains the avatar and information is this div tag with the ID item header cover image.

11:30.970 --> 11:34.540
I was able to come to this conclusion by studying the HTML.

11:34.930 --> 11:38.260
I'm going to apply the container class to this tag.

11:41.000 --> 11:41.760
That should do it.

11:41.960 --> 11:47.270
Let's refresh the page, you should now see the avatar being centered while the cover image is still

11:47.270 --> 11:47.880
stretched.

11:48.170 --> 11:49.780
This is exactly what we wanted.

11:50.390 --> 11:55.430
Of course, not everyone who installs our theme and Buddy Press will want this cover image feature.

11:55.560 --> 12:01.160
So we'll have to account for that to go to the admin dashboard and navigate to settings.

12:01.160 --> 12:02.720
Buddy press options.

12:05.440 --> 12:10.030
I want you to uncheck the cover image uploads feature and save the changes.

12:12.490 --> 12:14.410
Let's refresh the page once more.

12:14.680 --> 12:18.290
You should see the content uncensored along with no cover image.

12:18.550 --> 12:25.360
Let's fix this inside the member header template, I'm going to create a div tag with the class container.

12:31.510 --> 12:37.870
Then I'm going to move the two tags with the IDs, item header avatar and item header content inside

12:37.870 --> 12:39.100
of this container tag.

12:45.430 --> 12:51.200
That should center our avatar and the content, refresh the page and you should now see it centered.

12:53.630 --> 12:57.530
I'm going to re-enable the cover image feature because I like how it looks.

12:57.740 --> 12:59.400
That wraps it up for this lecture.

12:59.570 --> 13:04.100
All we did was study the HTML and find the appropriate templates for each section.

13:04.430 --> 13:09.940
It's kind of a pain, but it's the only way to go about Buddy Press theme development in the next lecture.

13:09.950 --> 13:13.550
We're going to continue working on this page and optimize it a little.
